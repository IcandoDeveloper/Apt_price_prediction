# 아파트 실거래 기반 가격 예측 프로젝트

아파트 실거래 데이터를 바탕으로 가격에 영향을 주는 요인을 탐색하고, 다양한 외부 요인을 결합하여 아파트 매매가를 예측하는 프로젝트입니다. 역세권 여부/거리, 학군 여부/거리와 같은 입지적 특성을 추가 특징으로 반영하며, 단계별로 성능 변화를 관찰합니다.

## 목적
- 실거래가 데이터만으로 구축한 기본 모델의 한계 파악
- 역세권/학군 등 입지 정보(여부·거리) 추가 시 성능 개선 여부 검증
- 가격에 유의미한 영향 요인 도출 및 설명 가능성 제고

## 폴더 구조
```
Apt_price_prediction/
├── data/
│   ├── 01.gangseo_apt_raw.csv                       # 강서구 아파트 raw 데이터
│   ├── 02_0_add_subway_df.csv                       # raw + 지하철 거리 데이터
│   ├── 02_1_(distance)add_subway_df.csv             # raw + 역세권 여부 데이터
│   ├── 03_0_add_school_df.csv                       # raw + 역세권 여부 + 학군 여부 데이터
│   ├── 03_1(distance)_add_school_df.csv             # raw + 역세권 여부 + 학군 여부 + 학교 거리 데이터
│   ├── apt_with_nearest_school.csv                  # 서울 학교 데이터 기준 가장 가까운 아파트와의 거리
│   └── apt_with_nearest_subway.csv                  # 근처 지하철역까지의 거리
├── funtion/
│   └── base_model_utils.py                          # 공통 함수 모듈
├── notebooks/
│   ├── 01_base_model_apt_price.ipynb                # 실거래가 데이터만 이용
│   ├── 02_0_add_subway_feature.ipynb                # 실거래가 + 역세권 여부 데이터
│   ├── 02_1_(distance)add_subway_feature.ipynb      # 실거래가 + 역과의 거리 데이터
│   ├── 03_0_add_school_feature.ipynb                # 실거래가 + 역세권 여부 + 학군 여부
│   └── 03_1_(distance)add_school_feature[final].ipynb # 실거래가 + 역세권 여부 + 학군 여부 + 학교 거리
└── README.md
```

## 진행 단계 및 개선 전/후 비교
- 기본(Baseline): 실거래가 데이터만 사용해 회귀 모델 학습
- 개선 1: 역세권 여부 추가 → 성능 변화 관찰
- 개선 2: 역과의 거리 추가 → 성능 변화 관찰
- 개선 3: 학군 여부 추가 → 성능 변화 관찰
- 개선 4: 학교 거리 추가 → 성능 변화 관찰

각 단계에서 모델의 성능 지표(RMSE/MAE/R2 등)를 기록하고, 어떤 특징이 개선에 기여했는지 분석합니다.

## 사용 방법(예시)
- notebooks 디렉터리의 노트북을 순서대로 실행하면서 단계별 전처리와 모델 실험을 재현할 수 있습니다.
- 공통 유틸은 `funtion/base_model_utils.py`를 참조합니다.

## 추후 계획
- 더 다양한 입지/편의시설 데이터(버스정류장, 공원 등) 연계
- 모델 및 특징 중요도 비교(선형모델, 트리기반, 부스팅 등)
- 데이터 증분 업데이트 파이프라인화 및 `Git LFS` 검토

## 성능 비교

- 1번: 실거래 데이터만 사용한 베이스라인
- 2번: 최종본(역세권 여부/거리 + 학군 여부/거리 반영)

### 베이스라인 (Only 거래 데이터)

| Model            | MAE        | R²      |
|------------------|------------|---------|
| LinearRegression | 9029.1796  | 0.6792  |
| RandomForest     | 9198.0107  | 0.7705  |
| XGBoost          | 10556.0938 | 0.6477  |
| LightGBM         | 14010.8524 | 0.4401  |

### 역세권 + 학군추가

| Model            | MAE      | R²     |
|------------------|----------|--------|
| LinearRegression | 13276.97 | 0.7496 |
| RandomForest     | 4898.65  | 0.9321 |
| XGBoost          | 4992.33  | 0.9225 |
| LightGBM         | 4613.08  | 0.9430 |

추가 지표(최종 학습 분할):

- [TRAIN] MAE: 2414.80, R²: 0.9899
- [VALID] MAE: 4613.08, R²: 0.9430

설명: 동일한 데이터 분할에서 MAE와 R²로 비교했습니다.
